PASS src/graphql/resolvers/__tests__/dmx.test.ts
  DMX Resolvers
    Query
      dmxOutput
        ✓ should return universe output (64 ms)
      allDmxOutput
        ✓ should return all universe outputs (34 ms)
      currentActiveScene
        ✓ should return current active scene (28 ms)
        ✓ should return null when no active scene (26 ms)
    Mutation
      setChannelValue
        ✓ should set channel value and return true (27 ms)
      setSceneLive
        ✓ should set scene live successfully (26 ms)
        ✓ should throw error when scene not found (46 ms)
        ✓ should handle scene with no fixtures (27 ms)
      playCue
        ✓ should play cue successfully with default fade time (28 ms)
        ✓ should play cue with custom fade time (26 ms)
        ✓ should throw error when cue not found (26 ms)
        ✓ should handle cue not found in cue list (no playback state update) (26 ms)
      fadeToBlack
        ✓ should fade to black and clear active scene (26 ms)
        ✓ should handle zero fade time (27 ms)
    Subscription
      ✓ should have dmxOutputChanged placeholder (25 ms)

PASS src/graphql/__tests__/project.test.ts
  Project GraphQL Resolvers
    Query.projects
      ✓ should return empty array when no projects exist (170 ms)
      ✓ should return projects when they exist (185 ms)
    Query.project
      ✓ should return project by id (171 ms)
      ✓ should return null for non-existent project (147 ms)
    Mutation.createProject
      ✓ should create a new project (179 ms)
      ✓ should create project without description (165 ms)
    Mutation.updateProject
      ✓ should update existing project (174 ms)
    Mutation.deleteProject
      ✓ should delete existing project (156 ms)

PASS src/services/__tests__/fadeEngine.test.ts
  Service Test Setup
    ✓ should mock console methods (46 ms)
  FadeEngine
    initialization and lifecycle
      ✓ should start automatically on construction (30 ms)
      ✓ should not start if already running (26 ms)
      ✓ should stop the fade engine (25 ms)
      ✓ should restart after stopping (26 ms)
    fadeChannels
      ✓ should create a fade with generated ID (26 ms)
      ✓ should create a fade with custom ID (25 ms)
      ✓ should cancel existing fade with same ID (26 ms)
      ✓ should get current channel values (26 ms)
      ✓ should convert duration to milliseconds (28 ms)
    fade processing at 40Hz
      ✓ should process fades every 25ms (40Hz) (29 ms)
      ✓ should verify 40Hz timing with 2048 channels across 4 universes (132 ms)
      ✓ should interpolate values linearly (32 ms)
      ✓ should complete fade and call onComplete callback (27 ms)
      ✓ should set final values exactly when fade completes (26 ms)
    fadeToScene
      ✓ should fade to scene channels (25 ms)
      ✓ should accept custom fade ID (25 ms)
    fadeToBlack
      ✓ should fade all active channels to 0 (24 ms)
      ✓ should handle empty universe outputs (25 ms)
    fade cancellation
      ✓ should cancel specific fade (26 ms)
      ✓ should cancel all fades (27 ms)
      ✓ should not process cancelled fades (27 ms)
    edge cases
      ✓ should clamp channel values to 0-255 range (26 ms)
      ✓ should handle progress > 1 gracefully (27 ms)
      ✓ should handle multiple simultaneous fades on different channels (26 ms)
    performance with large channel count
      ✓ should handle fading all 2048 channels efficiently (36 ms)

PASS src/graphql/resolvers/__tests__/fixture.test.ts
  Fixture Resolvers
    Query
      fixtureDefinitions
        ✓ should return all fixture definitions without filter (37 ms)
        ✓ should filter by manufacturer (25 ms)
        ✓ should filter by model (25 ms)
        ✓ should filter by type (25 ms)
        ✓ should filter by isBuiltIn (26 ms)
        ✓ should filter by channel types (25 ms)
        ✓ should combine multiple filters (25 ms)
      fixtureDefinition
        ✓ should return fixture definition by id (24 ms)
    Mutation
      createFixtureDefinition
        ✓ should create fixture definition (27 ms)
      createFixtureInstance
        ✓ should create fixture instance with definition channels (28 ms)
        ✓ should create fixture instance with mode channels (27 ms)
        ✓ should throw error when definition not found (47 ms)
      updateFixtureInstance
        ✓ should update simple fields (27 ms)
        ✓ should update definition and regenerate channels (50 ms)
        ✓ should throw error when new definition not found (31 ms)
      deleteFixtureInstance
        ✓ should delete fixture instance (37 ms)
    types
      FixtureInstance.channels
        ✓ should return ordered instance channels (27 ms)
      FixtureMode.channels
        ✓ should return mode channels (27 ms)
        ✓ should return empty array when no mode channels (26 ms)
      ModeChannel.channel
        ✓ should return channel from mode channel (27 ms)

PASS src/graphql/resolvers/__tests__/preview.test.ts
  Preview Resolvers
    Query
      previewSession
        ✓ should return preview session with project details (41 ms)
        ✓ should throw error when session not found (38 ms)
        ✓ should handle session with no channel overrides (27 ms)
    Mutation
      startPreviewSession
        ✓ should start preview session for existing project (29 ms)
        ✓ should throw error when project not found (26 ms)
      commitPreviewSession
        ✓ should commit preview session (26 ms)
      cancelPreviewSession
        ✓ should cancel preview session (26 ms)
      updatePreviewChannel
        ✓ should update preview channel value (26 ms)
      initializePreviewWithScene
        ✓ should initialize preview with scene (25 ms)
    Subscription
      previewSessionUpdated
        ✓ should return async iterator for preview session updates (26 ms)
      dmxOutputChanged
        ✓ should return async iterator for DMX output changes (26 ms)
        ✓ should work without universe parameter (26 ms)
    getDMXOutput helper
      ✓ should generate DMX output from channel overrides (26 ms)
      ✓ should return empty array when session not found in helper (26 ms)

PASS src/graphql/resolvers/__tests__/scene.test.ts
  Scene Resolvers
    Query
      scene
        ✓ should return scene with fixtures and channels (37 ms)
        ✓ should return null for non-existent scene (27 ms)
    Mutation
      createScene
        ✓ should create scene with fixture values (30 ms)
      updateScene
        ✓ should update scene metadata only (30 ms)
        ✓ should update scene with fixture values replacement (29 ms)
        ✓ should apply updates to DMX when scene is currently active (27 ms)
      duplicateScene
        ✓ should duplicate scene with fixture values (28 ms)
        ✓ should throw error when original scene not found (50 ms)
      deleteScene
        ✓ should delete scene and return true (29 ms)
      addFixturesToScene
        ✓ should add fixtures to scene with overwrite (27 ms)
        ✓ should add new fixtures without overwriting existing ones (27 ms)
        ✓ should throw error when scene not found (28 ms)
      removeFixturesFromScene
        ✓ should remove fixtures from scene (27 ms)
        ✓ should throw error when scene not found (29 ms)
      updateScenePartial
        ✓ should update metadata only when no fixture values provided (32 ms)
        ✓ should merge fixtures when mergeFixtures is true (29 ms)
        ✓ should replace all fixtures when mergeFixtures is false (30 ms)
        ✓ should apply DMX updates when scene is active (29 ms)

  console.error
    Error jumping to cue: Error: Invalid cue index
        at PlaybackStateService.jumpToCue (/Users/bernard/src/lacylights/lacylights-node/src/services/playbackStateService.ts:191:15)
        at Object.<anonymous> (/Users/bernard/src/lacylights/lacylights-node/src/services/__tests__/playbackStateService.test.ts:274:7)

      196 |     } catch (error) {
      197 |       // eslint-disable-next-line no-console
    > 198 |       console.error("Error jumping to cue:", error);
          |               ^
      199 |       throw error;
      200 |     }
      201 |   }

      at PlaybackStateService.error [as jumpToCue] (src/services/playbackStateService.ts:198:15)
      at Object.<anonymous> (src/services/__tests__/playbackStateService.test.ts:274:7)

  console.error
    Error jumping to cue: Error: Invalid cue index
        at PlaybackStateService.jumpToCue (/Users/bernard/src/lacylights/lacylights-node/src/services/playbackStateService.ts:191:15)
        at Object.<anonymous> (/Users/bernard/src/lacylights/lacylights-node/src/services/__tests__/playbackStateService.test.ts:277:7)

      196 |     } catch (error) {
      197 |       // eslint-disable-next-line no-console
    > 198 |       console.error("Error jumping to cue:", error);
          |               ^
      199 |       throw error;
      200 |     }
      201 |   }

      at PlaybackStateService.error [as jumpToCue] (src/services/playbackStateService.ts:198:15)
      at Object.<anonymous> (src/services/__tests__/playbackStateService.test.ts:277:7)

  console.error
    Error jumping to cue: Error: Invalid cue index
        at PlaybackStateService.jumpToCue (/Users/bernard/src/lacylights/lacylights-node/src/services/playbackStateService.ts:191:15)
        at Object.<anonymous> (/Users/bernard/src/lacylights/lacylights-node/src/services/__tests__/playbackStateService.test.ts:285:7)

      196 |     } catch (error) {
      197 |       // eslint-disable-next-line no-console
    > 198 |       console.error("Error jumping to cue:", error);
          |               ^
      199 |       throw error;
      200 |     }
      201 |   }

      at PlaybackStateService.error [as jumpToCue] (src/services/playbackStateService.ts:198:15)
      at Object.<anonymous> (src/services/__tests__/playbackStateService.test.ts:285:7)

PASS src/services/__tests__/playbackStateService.test.ts
  PlaybackStateService
    getPlaybackState
      ✓ should return null for non-existent cue list (39 ms)
      ✓ should return playback state after starting cue (29 ms)
    startCue
      ✓ should start cue and emit subscription update (28 ms)
      ✓ should clear existing state before starting new cue (27 ms)
      ✓ should start fade progress tracking (29 ms)
      ✓ should schedule follow time when specified (30 ms)
      ✓ should stop playing after fade completes when no follow time (27 ms)
    stopCueList
      ✓ should stop playback and clear intervals (27 ms)
    stopAllCueLists
      ✓ should stop all active cue lists (27 ms)
    jumpToCue
      ✓ should jump to specified cue index (29 ms)
      ✓ should throw error for invalid cue index (71 ms)
      ✓ should throw error for non-existent cue list (30 ms)
    getFormattedStatus
      ✓ should return default status for non-existent cue list (26 ms)
      ✓ should return formatted status for active cue list (26 ms)
    subscription channel consistency
      ✓ should always publish to CUE_LIST_PLAYBACK_UPDATED channel (30 ms)
      ✓ should emit updates with proper cueListId for subscription filtering (30 ms)
    fade progress emissions
      ✓ should emit fade progress updates during fade (28 ms)
    cleanup
      ✓ should clear all states and intervals (29 ms)
    singleton service
      ✓ should return same instance from getPlaybackStateService (28 ms)

PASS src/graphql/resolvers/__tests__/cue.test.ts
  Cue Resolvers
    Query.cueListPlaybackStatus
      ✓ should return playback status from service (36 ms)
    Query.cueList
      ✓ should return cue list with cues (27 ms)
    Query.cue
      ✓ should return cue with scene and cue list (27 ms)
    Mutation.createCue
      ✓ should create cue and invalidate cache (28 ms)
    Mutation.updateCue
      ✓ should update cue and invalidate cache (28 ms)
      ✓ should throw error if cue not found (52 ms)
    Mutation.deleteCue
      ✓ should delete cue and invalidate cache (39 ms)
      ✓ should throw error if cue not found (27 ms)
    Mutation.reorderCues
      ✓ should reorder cues and invalidate cache (28 ms)
      ✓ should throw error if cue list not found (28 ms)
      ✓ should throw error if cue does not belong to cue list (28 ms)
    Subscription.cueListPlaybackUpdated
      ✓ should subscribe to correct channel name (27 ms)
      ✓ should filter by cueListId correctly (27 ms)
      ✓ should handle invalid cueListId in subscription variables (29 ms)
      ✓ should resolve payload correctly (27 ms)
    Cue Navigation with Subscription Updates
      ✓ should not duplicate startCue calls in nextCue mutation (29 ms)
      ✓ should handle previousCue navigation correctly (30 ms)
      ✓ should handle goToCue navigation correctly (27 ms)
      ✓ should prevent boundary violations in navigation (29 ms)

PASS src/services/__tests__/playbackService.test.ts
  PlaybackService
    getPlaybackStatus
      ✓ should return initial playback status for new cue list (40 ms)
      ✓ should return cached status for existing cue list (27 ms)
      ✓ should throw error for invalid cueListId (32 ms)
      ✓ should throw error when cue list not found (34 ms)
      ✓ should handle empty cue list (29 ms)
    updatePlaybackStatus
      ✓ should update playback status and emit subscription (26 ms)
      ✓ should throttle subscription emissions (25 ms)
      ✓ should preserve cueListId in updates (27 ms)
    startPlayback
      ✓ should start playback with first cue (27 ms)
      ✓ should throw error for empty cue list (26 ms)
    stopPlayback
      ✓ should stop playback (26 ms)
    jumpToCue
      ✓ should jump to specific cue by index (27 ms)
      ✓ should throw error for invalid cue index (28 ms)
    updateFadeProgress
      ✓ should update fade progress (27 ms)
      ✓ should clamp fade progress between 0 and 1 (26 ms)
    invalidateCache
      ✓ should invalidate cache for specific cue list (26 ms)
    cleanup
      ✓ should clear all cached data (25 ms)

  console.log
    [2025-09-24T14:13:31.402Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.409Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.409Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.410Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.411Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.438Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.438Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.439Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.439Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.440Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.466Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.467Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.469Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.470Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.471Z] INFO: 📡 DMX transmission: manual trigger to high rate (44Hz)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.473Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.500Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.501Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.503Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.504Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.505Z] INFO: 📡 DMX transmission: manual trigger to high rate (44Hz)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.506Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.532Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.534Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.535Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.536Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.538Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.567Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.569Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.570Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.571Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.572Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.602Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.604Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.605Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.606Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.608Z] INFO: 📡 DMX transmission: manual trigger to high rate (44Hz)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.612Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.641Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.642Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.643Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.644Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.645Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.674Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.676Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.677Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.678Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.680Z] INFO: 📡 DMX transmission: manual trigger to high rate (44Hz)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.682Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.710Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.711Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.712Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.712Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.716Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.743Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.744Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.745Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.746Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.746Z] INFO: 📡 DMX transmission: manual trigger to high rate (44Hz)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.747Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.748Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.775Z] INFO: 🎭 DMX Service initialized with 2 universes

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.776Z] INFO: 📡 Adaptive transmission: 44Hz (active) / 1Hz (idle), 2000ms high-rate duration

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.777Z] INFO: 📡 Art-Net output disabled (simulation mode)

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.778Z] INFO: ⏱️  Timing monitoring: warn if drift >50ms, throttle 5000ms

      at Logger.log [as info] (src/utils/logger.ts:77:15)

  console.log
    [2025-09-24T14:13:31.779Z] INFO: 📡 DMX transmission: manual trigger to high rate (44Hz)

      at Logger.log [as info] (src/utils/logger.ts:77:15)
          at Array.forEach (<anonymous>)

  console.log
    [2025-09-24T14:13:31.780Z] INFO: 🎭 DMX Service stopped

      at Logger.log [as info] (src/utils/logger.ts:77:15)

PASS src/services/dmx/__tests__/dmx.test.ts
  DMXService
    initialization
      ✓ should initialize with correct number of universes (45 ms)
      ✓ should initialize all channels to 0 (29 ms)
    setChannelValue
      ✓ should set channel value correctly (34 ms)
      ✓ should clamp values to valid DMX range (33 ms)
      ✓ should ignore invalid channel numbers (32 ms)
      ✓ should ignore invalid universe numbers (34 ms)
    getUniverseOutput
      ✓ should return copy of universe data (41 ms)
      ✓ should return empty array for non-existent universe (32 ms)
    getAllUniverseOutputs
      ✓ should return all universe outputs (37 ms)
      ✓ should return copies of universe data (33 ms)
    stop
      ✓ should clear all channel values (32 ms)
    multiple channel operations
      ✓ should handle multiple channel changes correctly (32 ms)

PASS src/utils/__tests__/logger.test.ts
  Logger
    log levels
      ✓ should respect LOG_LEVEL environment variable (40 ms)
      ✓ should default to INFO level when no LOG_LEVEL is set (27 ms)
    log formatting
      ✓ should format log messages with timestamp and level (26 ms)
      ✓ should include metadata when provided (27 ms)
      ✓ should handle complex metadata objects (28 ms)
    debug
      ✓ should log debug messages when level is DEBUG (30 ms)
      ✓ should not log debug messages when level is INFO or higher (27 ms)
    info
      ✓ should log info messages (30 ms)
    warn
      ✓ should log warning messages (26 ms)
    error
      ✓ should log error messages (27 ms)
      ✓ should log error messages with error objects (31 ms)

PASS src/__tests__/context.test.ts
  Context
    getSharedPrisma
      ✓ should return the same PrismaClient instance on multiple calls (37 ms)
    getSharedPubSub
      ✓ should return the same PubSub instance on multiple calls (27 ms)
    createContext
      ✓ should create context with shared instances (27 ms)
      ✓ should use the same shared instances across multiple contexts (29 ms)
    createWebSocketContext
      ✓ should create websocket context with shared instances (30 ms)
      ✓ should use the same shared instances as HTTP context (29 ms)
    cleanup
      ✓ should disconnect prisma and clear cached instances (29 ms)
      ✓ should handle multiple cleanup calls gracefully (29 ms)

PASS src/services/__tests__/setup.ts
  Service Test Setup
    ✓ should mock console methods (36 ms)

  ●  process.exit called with "0"

      11 | const request = http.request(options, (res) => {
      12 |   if (res.statusCode === 200) {
    > 13 |     process.exit(0);
         |             ^
      14 |   } else {
      15 |     process.exit(1);
      16 |   }

      at exit (src/healthcheck.ts:13:13)
      at Object.<anonymous> (src/__tests__/healthcheck.test.ts:51:7)
      at Object.request (src/healthcheck.ts:11:22)
      at Object.<anonymous> (src/__tests__/healthcheck.test.ts:55:5)
